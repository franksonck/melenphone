<md-card>
    <md-card-content>
        <ng-container *ngIf="auth.currentUser === null">
            <p>Connectez-vous via jlm2017.fr</p>
        </ng-container>
        <ng-container *ngIf="auth.currentUser !== null">
            <ng-container *ngIf="auth.currentUser.agentUsername === null">
                <p>
                    Bravo, tu as fait la moitiÃ© du chemin.
                    Et maintenant, derniÃ¨re Ã©tape : il te faut un pseudo.
                    Sans Ã§a, tu ne pourras pas passer d'appel (gratuitement) pour
                    la campagne ðŸ˜±
                </p>
            </ng-container>
            <ng-container *ngIf="auth.currentUser.agentUsername !== null">
                <p>
                    Vous Ãªtes connectÃ© en tant que 
                    <span class="pseudo">{{auth.currentUser.email}}</span>
                </p>
                <p>
                    Votre nom dâ€˜utilisateur callhub est {{ auth.currentUser.agentUsername }}
                </p>
            </ng-container>
        </ng-container>
    </md-card-content>
    <md-card-actions fxLayout="row" fxLayoutAlign="end">
        <ng-container *ngIf="auth.currentUser === null">
            <a md-raised-button color="primary" href="/connexion/">Connexion</a>
        </ng-container>
        <ng-container *ngIf="auth.currentUser !== null && auth.currentUser.agentUsername === null">
            <form fxFlexFill (ngSubmit)="createCallhubAccount(callhubUsername)">
                <div>
                    <md-input-container fxFlexFill>
                        <input mdInput [(ngModel)]="callhubUsername" placeholder="pseudo" name="callhubUsername">
                    </md-input-container>
                </div>
                <button md-raised-button color="primary" type="submit">J'enregistre mon pseudo</button>
            </form>
        </ng-container>
        <ng-container *ngIf="auth.currentUser !== null && auth.currentUser.agentUsername !== null">
            <a md-raised-button color="warn" href="/deconnexion/">DÃ©connexion</a>
        </ng-container>
    </md-card-actions>
</md-card>
