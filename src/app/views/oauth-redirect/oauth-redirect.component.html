<div class="container" [ngSwitch]="message" fxFlex.xs="1 1 100%" fxFlex.sm="1 1 80%" fxFlex.gt-sm="0 1 500px">
    <md-card *ngSwitchCase="'normal'">
        <md-card-header>
            <md-card-title>
                Vous êtes à présent connecté
            </md-card-title>
        </md-card-header>
        <md-card-content>
            Tu vas être redirigé vers la page d'accueil du site
        </md-card-content>
        <md-card-actions fxlayoutAlign="end">
            <a md-raised-button color="accent" routerLink="/">aller à l'accueil</a>
        </md-card-actions>
    </md-card>

    <md-card *ngSwitchCase="'checkYourMailbox'">
        <md-card-header>
            <md-card-title>
                Compte Callhub créé avec succès !
            </md-card-title>
        </md-card-header>
        <md-card-content>
            <p>
                <span class="checkmailbox">Vérifie ta boîte mail</span>, tu as reçu un <strong>courriel d'activation</strong>.<br/>
                Un lien dans ce mail te permettra de finaliser ton inscription.
            </p>
        </md-card-content>
    </md-card>

    <form #f="ngForm"
            *ngSwitchCase="'createCallhubAccount'"
            (ngSubmit)="createCallhubAccount(callhubUsername)">
        <md-card>
            <md-card-header>
                Créer un agent Callhub
            </md-card-header>
            <md-card-content>
                <p>
                    Si tu n'as jamais passé d'appels pour la campagne, choisis un pseudo pour ton compte Callhub (notre centrale d'appels).
                </p>
                <md-input-container fxFlexFill>
                    <input mdInput [(ngModel)]="callhubUsername"
                            type="text"
                            placeholder="Identifiant Callhub"
                            name="callhubUsername"
                            minlength="4"
                            required>
                </md-input-container>
                <p *ngIf="errorMessage" class="error-message">
                    ✖️ {{ errorMessage }}
                </p>
            </md-card-content>
            <md-card-actions fxLayoutAlign="end">
                <div class="example-tooltip-host">
                    <button md-raised-button
                            color="primary"
                            type="submit"
                            [disabled]="!f.valid && !auth.currentUser.agentUsername">Créer mon agent Callhub</button>
                </div>
            </md-card-actions>
        </md-card>
    </form>


</div>

